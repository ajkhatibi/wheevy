!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):"object"==typeof exports?exports.normalizr=r():t.normalizr=r()}(this,function(){return function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};return r.m=t,r.c=n,r.p="",r(0)}([function(t,r,n){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function o(t,r,n){t[r]=n}function u(t,r,n,e){var u=e.assignEntity,i=void 0===u?o:u,c={};for(var a in t)if(t.hasOwnProperty(a)){var f=l(t[a],r[a],n,e);i.call(null,c,a,f)}return c}function i(t,r,n,e){return function(t){return l(t,r,n,e)}}function c(t,r,n,e){return function(o){var u=t.getSchemaKey(o),i=l(o,r[u],n,e);return{id:i,schema:u}}}function a(t,r,n,e){var o=r.isPolymorphicSchema(),u=r.getItemSchema(),a=o?c:i,f=a(r,u,n,e);return Array.isArray(t)?t.map(f):O["default"](t,f)}function f(t,r,n){for(var e in r)r.hasOwnProperty(e)&&(t.hasOwnProperty(e)&&!w["default"](t[e],r[e])?console.warn("When merging two "+n+', found unequal data in their "'+e+'" values. Using the earlier value.',t[e],r[e]):t[e]=r[e])}function s(t,r,n,e){var o=e.mergeIntoEntity,i=void 0===o?f:o,c=r.getKey(),a=r.getId(t);n.hasOwnProperty(c)||(n[c]={}),n[c].hasOwnProperty(a)||(n[c][a]={});var s=n[c][a],l=u(t,r,n,e);return i(s,l,c),a}function l(t,r,n,e){return x["default"](t)&&x["default"](r)?r instanceof d["default"]?s(t,r,n,e):r instanceof b["default"]?a(t,r,n,e):u(t,r,n,e):t}function p(t,r){return new b["default"](t,r)}function v(t,r){return new b["default"](t,r)}function y(t,r){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(!x["default"](t)&&!Array.isArray(t))throw new Error("Normalize accepts an object or an array as its input.");if(!x["default"](r)||Array.isArray(r))throw new Error("Normalize accepts an object for schema.");var e={},o=l(t,r,e,n);return{entities:e,result:o}}r.__esModule=!0,r.arrayOf=p,r.valuesOf=v,r.normalize=y;var h=n(19),d=e(h),g=n(20),b=e(g),m=n(1),x=e(m),j=n(41),w=e(j),A=n(46),O=e(A);r.Schema=d["default"]},function(t,r){function n(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}t.exports=n},function(t,r,n){function e(t){return o(t)?t:Object(t)}var o=n(1);t.exports=e},function(t,r,n){var e=n(11),o=n(4),u=n(5),i="[object Array]",c=Object.prototype,a=c.toString,f=e(Array,"isArray"),s=f||function(t){return u(t)&&o(t.length)&&a.call(t)==i};t.exports=s},function(t,r){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&e>=t}var e=9007199254740991;t.exports=n},function(t,r){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,r,n){function e(t,r,n,c,a,f){return t===r?!0:null==t||null==r||!u(t)&&!i(r)?t!==t&&r!==r:o(t,r,e,n,c,a,f)}var o=n(26),u=n(1),i=n(5);t.exports=e},function(t,r,n){var e=n(11),o=n(12),u=n(1),i=n(40),c=e(Object,"keys"),a=c?function(t){var r=null==t?void 0:t.constructor;return"function"==typeof r&&r.prototype===t||"function"!=typeof t&&o(t)?i(t):u(t)?c(t):[]}:i;t.exports=a},function(t,r,n){function e(t,r,n){if(null!=t){void 0!==n&&n in o(t)&&(r=[n]);for(var e=0,u=r.length;null!=t&&u>e;)t=t[r[e++]];return e&&e==u?t:void 0}}var o=n(2);t.exports=e},function(t,r){function n(t){return function(r){return null==r?void 0:r[t]}}t.exports=n},function(t,r,n){function e(t,r,n){if("function"!=typeof t)return o;if(void 0===r)return t;switch(n){case 1:return function(n){return t.call(r,n)};case 3:return function(n,e,o){return t.call(r,n,e,o)};case 4:return function(n,e,o,u){return t.call(r,n,e,o,u)};case 5:return function(n,e,o,u,i){return t.call(r,n,e,o,u,i)}}return function(){return t.apply(r,arguments)}}var o=n(18);t.exports=e},function(t,r,n){function e(t,r){var n=null==t?void 0:t[r];return o(n)?n:void 0}var o=n(43);t.exports=e},function(t,r,n){function e(t){return null!=t&&u(o(t))}var o=n(38),u=n(4);t.exports=e},function(t,r){function n(t,r){return t="number"==typeof t||e.test(t)?+t:-1,r=null==r?o:r,t>-1&&t%1==0&&r>t}var e=/^\d+$/,o=9007199254740991;t.exports=n},function(t,r,n){function e(t,r){var n=typeof t;if("string"==n&&c.test(t)||"number"==n)return!0;if(o(t))return!1;var e=!i.test(t);return e||null!=r&&t in u(r)}var o=n(3),u=n(2),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,c=/^\w*$/;t.exports=e},function(t,r,n){function e(t){return t===t&&!o(t)}var o=n(1);t.exports=e},function(t,r,n){function e(t){if(u(t))return t;var r=[];return o(t).replace(i,function(t,n,e,o){r.push(e?o.replace(c,"$1"):n||t)}),r}var o=n(32),u=n(3),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,c=/\\(\\)?/g;t.exports=e},function(t,r,n){function e(t){return u(t)&&o(t)&&c.call(t,"callee")&&!a.call(t,"callee")}var o=n(12),u=n(5),i=Object.prototype,c=i.hasOwnProperty,a=i.propertyIsEnumerable;t.exports=e},function(t,r){function n(t){return t}t.exports=n},function(t,r){"use strict";function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var e=function(){function t(r){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(n(this,t),!r||"string"!=typeof r)throw new Error("A string non-empty key is required");this._key=r;var o=e.idAttribute||"id";this._getId="function"==typeof o?o:function(t){return t[o]}}return t.prototype.getKey=function(){return this._key},t.prototype.getId=function(t){return this._getId(t)},t.prototype.define=function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r])},t}();r["default"]=e,t.exports=r["default"]},function(t,r,n){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function o(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var u=n(1),i=e(u),c=function(){function t(r){var n=this,e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(o(this,t),!i["default"](r))throw new Error("ArraySchema requires item schema to be an object.");this._itemSchema=r,e.schemaAttribute&&!function(){var t=e.schemaAttribute;n._getSchema="function"==typeof t?t:function(r){return r[t]}}()}return t.prototype.getItemSchema=function(){return this._itemSchema},t.prototype.isPolymorphicSchema=function(){return!!this._getSchema},t.prototype.getSchemaKey=function(t){return this._getSchema(t)},t}();r["default"]=c,t.exports=r["default"]},function(t,r){function n(t){var r=t?t.length:0;return r?t[r-1]:void 0}t.exports=n},function(t,r){function n(t,r){for(var n=-1,e=t.length;++n<e;)if(r(t[n],n,t))return!0;return!1}t.exports=n},function(t,r,n){function e(t,r,n){var e=typeof t;return"function"==e?void 0===r?t:i(t,r,n):null==t?c:"object"==e?o(t):void 0===r?a(t):u(t,r)}var o=n(28),u=n(29),i=n(10),c=n(18),a=n(48);t.exports=e},function(t,r,n){var e=n(33),o=e();t.exports=o},function(t,r,n){function e(t,r){return o(t,r,u)}var o=n(24),u=n(7);t.exports=e},function(t,r,n){function e(t,r,n,e,p,h,d){var g=c(t),b=c(r),m=s,x=s;g||(m=y.call(t),m==f?m=l:m!=l&&(g=a(t))),b||(x=y.call(r),x==f?x=l:x!=l&&(b=a(r)));var j=m==l,w=x==l,A=m==x;if(A&&!g&&!j)return u(t,r,m);if(!p){var O=j&&v.call(t,"__wrapped__"),_=w&&v.call(r,"__wrapped__");if(O||_)return n(O?t.value():t,_?r.value():r,e,p,h,d)}if(!A)return!1;h||(h=[]),d||(d=[]);for(var S=h.length;S--;)if(h[S]==t)return d[S]==r;h.push(t),d.push(r);var P=(g?o:i)(t,r,n,e,p,h,d);return h.pop(),d.pop(),P}var o=n(35),u=n(36),i=n(37),c=n(3),a=n(44),f="[object Arguments]",s="[object Array]",l="[object Object]",p=Object.prototype,v=p.hasOwnProperty,y=p.toString;t.exports=e},function(t,r,n){function e(t,r,n){var e=r.length,i=e,c=!n;if(null==t)return!i;for(t=u(t);e--;){var a=r[e];if(c&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++e<i;){a=r[e];var f=a[0],s=t[f],l=a[1];if(c&&a[2]){if(void 0===s&&!(f in t))return!1}else{var p=n?n(s,l,f):void 0;if(!(void 0===p?o(l,s,n,!0):p))return!1}}return!0}var o=n(6),u=n(2);t.exports=e},function(t,r,n){function e(t){var r=u(t);if(1==r.length&&r[0][2]){var n=r[0][0],e=r[0][1];return function(t){return null==t?!1:t[n]===e&&(void 0!==e||n in i(t))}}return function(t){return o(t,r)}}var o=n(27),u=n(39),i=n(2);t.exports=e},function(t,r,n){function e(t,r){var n=c(t),e=a(t)&&f(r),v=t+"";return t=p(t),function(c){if(null==c)return!1;var a=v;if(c=l(c),(n||!e)&&!(a in c)){if(c=1==t.length?c:o(c,i(t,0,-1)),null==c)return!1;a=s(t),c=l(c)}return c[a]===r?void 0!==r||a in c:u(r,c[a],void 0,!0)}}var o=n(8),u=n(6),i=n(31),c=n(3),a=n(14),f=n(15),s=n(21),l=n(2),p=n(16);t.exports=e},function(t,r,n){function e(t){var r=t+"";return t=u(t),function(n){return o(n,t,r)}}var o=n(8),u=n(16);t.exports=e},function(t,r){function n(t,r,n){var e=-1,o=t.length;r=null==r?0:+r||0,0>r&&(r=-r>o?0:o+r),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var u=Array(o);++e<o;)u[e]=t[e+r];return u}t.exports=n},function(t,r){function n(t){return null==t?"":t+""}t.exports=n},function(t,r,n){function e(t){return function(r,n,e){for(var u=o(r),i=e(r),c=i.length,a=t?c:-1;t?a--:++a<c;){var f=i[a];if(n(u[f],f,u)===!1)break}return r}}var o=n(2);t.exports=e},function(t,r,n){function e(t){return function(r,n,e){var i={};return n=o(n,e,3),u(r,function(r,e,o){var u=n(r,e,o);e=t?u:e,r=t?r:u,i[e]=r}),i}}var o=n(23),u=n(25);t.exports=e},function(t,r,n){function e(t,r,n,e,u,i,c){var a=-1,f=t.length,s=r.length;if(f!=s&&!(u&&s>f))return!1;for(;++a<f;){var l=t[a],p=r[a],v=e?e(u?p:l,u?l:p,a):void 0;if(void 0!==v){if(v)continue;return!1}if(u){if(!o(r,function(t){return l===t||n(l,t,e,u,i,c)}))return!1}else if(l!==p&&!n(l,p,e,u,i,c))return!1}return!0}var o=n(22);t.exports=e},function(t,r){function n(t,r,n){switch(n){case e:case o:return+t==+r;case u:return t.name==r.name&&t.message==r.message;case i:return t!=+t?r!=+r:t==+r;case c:case a:return t==r+""}return!1}var e="[object Boolean]",o="[object Date]",u="[object Error]",i="[object Number]",c="[object RegExp]",a="[object String]";t.exports=n},function(t,r,n){function e(t,r,n,e,u,c,a){var f=o(t),s=f.length,l=o(r),p=l.length;if(s!=p&&!u)return!1;for(var v=s;v--;){var y=f[v];if(!(u?y in r:i.call(r,y)))return!1}for(var h=u;++v<s;){y=f[v];var d=t[y],g=r[y],b=e?e(u?g:d,u?d:g,y):void 0;if(!(void 0===b?n(d,g,e,u,c,a):b))return!1;h||(h="constructor"==y)}if(!h){var m=t.constructor,x=r.constructor;if(m!=x&&"constructor"in t&&"constructor"in r&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x))return!1}return!0}var o=n(7),u=Object.prototype,i=u.hasOwnProperty;t.exports=e},function(t,r,n){var e=n(9),o=e("length");t.exports=o},function(t,r,n){function e(t){for(var r=u(t),n=r.length;n--;)r[n][2]=o(r[n][1]);return r}var o=n(15),u=n(47);t.exports=e},function(t,r,n){function e(t){for(var r=a(t),n=r.length,e=n&&t.length,f=!!e&&c(e)&&(u(t)||o(t)),l=-1,p=[];++l<n;){var v=r[l];(f&&i(v,e)||s.call(t,v))&&p.push(v)}return p}var o=n(17),u=n(3),i=n(13),c=n(4),a=n(45),f=Object.prototype,s=f.hasOwnProperty;t.exports=e},function(t,r,n){function e(t,r,n,e){n="function"==typeof n?u(n,e,3):void 0;var i=n?n(t,r):void 0;return void 0===i?o(t,r,n):!!i}var o=n(6),u=n(10);t.exports=e},function(t,r,n){function e(t){return o(t)&&c.call(t)==u}var o=n(1),u="[object Function]",i=Object.prototype,c=i.toString;t.exports=e},function(t,r,n){function e(t){return null==t?!1:o(t)?s.test(a.call(t)):u(t)&&i.test(t)}var o=n(42),u=n(5),i=/^\[object .+?Constructor\]$/,c=Object.prototype,a=Function.prototype.toString,f=c.hasOwnProperty,s=RegExp("^"+a.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=e},function(t,r,n){function e(t){return u(t)&&o(t.length)&&!!I[M.call(t)]}var o=n(4),u=n(5),i="[object Arguments]",c="[object Array]",a="[object Boolean]",f="[object Date]",s="[object Error]",l="[object Function]",p="[object Map]",v="[object Number]",y="[object Object]",h="[object RegExp]",d="[object Set]",g="[object String]",b="[object WeakMap]",m="[object ArrayBuffer]",x="[object Float32Array]",j="[object Float64Array]",w="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",E="[object Uint32Array]",I={};I[x]=I[j]=I[w]=I[A]=I[O]=I[_]=I[S]=I[P]=I[E]=!0,I[i]=I[c]=I[m]=I[a]=I[f]=I[s]=I[l]=I[p]=I[v]=I[y]=I[h]=I[d]=I[g]=I[b]=!1;var $=Object.prototype,M=$.toString;t.exports=e},function(t,r,n){function e(t){if(null==t)return[];a(t)||(t=Object(t));var r=t.length;r=r&&c(r)&&(u(t)||o(t))&&r||0;for(var n=t.constructor,e=-1,f="function"==typeof n&&n.prototype===t,l=Array(r),p=r>0;++e<r;)l[e]=e+"";for(var v in t)p&&i(v,r)||"constructor"==v&&(f||!s.call(t,v))||l.push(v);return l}var o=n(17),u=n(3),i=n(13),c=n(4),a=n(1),f=Object.prototype,s=f.hasOwnProperty;t.exports=e},function(t,r,n){var e=n(34),o=e();t.exports=o},function(t,r,n){function e(t){t=u(t);for(var r=-1,n=o(t),e=n.length,i=Array(e);++r<e;){var c=n[r];i[r]=[c,t[c]]}return i}var o=n(7),u=n(2);t.exports=e},function(t,r,n){function e(t){return i(t)?o(t):u(t)}var o=n(9),u=n(30),i=n(14);t.exports=e}])});